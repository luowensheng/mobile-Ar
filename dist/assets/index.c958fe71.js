import{P as C,O as j,V as A,R as z,G as D,a as q,S as R,A as W,W as x,D as $,T as H,C as T}from"./vendor.3d9b8610.js";const X=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function o(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(n){if(n.ep)return;n.ep=!0;const r=o(n);fetch(n.href,r)}};X();async function P(t){return await navigator.permissions.query({name:t})==="granted"}function Y(t=["accelerometer","magnetometer","gyroscope"],e={frequency:60,referenceFrame:"device"}){const o=new AbsoluteOrientationSensor(e);let s=!0;if(t.forEach(n=>{P(n)||U(n),P(n)||(alert("No permissions to use AbsoluteOrientationSensor."),s=!1)}),!s){alert("No permissions to use AbsoluteOrientationSensor.");return}return o.start(),o}function U(t){navigator.permissions.query({name:t}).then(e=>{e.state==="denied"?alert("Permission to use "+t+" sensor is denied."):alert("Permission to use "+t+" sensor is accepted with "+e.state)})}function F(t){navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}).then(e=>{t.srcObject=e,t.play(),console.log("webcam is on")}).catch(e=>{console.log("Something went wrong!",e)})}function G(t){}function N(t,e,o){const s=(h,l)=>(h-e[l])/(o[l]-e[l]),n=t.clientX||t.touches[0].clientX,r=t.clientY||t.touches[0].clientY,c=s(n,"x")*2-1,g=-1*(s(r,"y")*2-1);return new A(c,g)}function I(t){const{left:e,right:o,top:s,bottom:n}=t.domElement.getBoundingClientRect();return[{x:e,y:s},{x:o,y:n}]}class V{constructor(e,o,s){this.map=new Map,this.scene=e,this.camera=o,this.renderer=s}Tick(){const e=this.map,o=this.camera,s=this.scene,n=this.renderer;return r=>{const[c,g]=I(n),h=N(r,c,g),l=new z;l.setFromCamera(h,o);const p=l.intersectObjects(s.children,!0);if(p.length>0){let d=p[0].object;for(;d.parent&&!d.userData.clickable;)d=d.parent;if(d.userData.clickable&&d===d){let y=d.mname;if(e.has(y)){e.get(y)();return}}}e.get("background")()}}RegisterObject(e,o=()=>{}){this.map.set(e,o)}UnregisterObject(e){this.map.delete(e)}}function Z(t,e){return new j(t,e)}function B(t=75,e=window.innerWidth/window.innerHeight,o=.1,s=1e3){return new C(t,e,o,s)}const E=new D;E.add({item:"item"},"Models",{item1:"item1",item2:"item2"});E.windows=[];const S=innerWidth,k=innerHeight;window.addEventListener("DOMContentLoaded",()=>{var t,e,o,s,n,r;const c=new q,g=new T,h=document.createElement("canvas"),l=document.createElement("video");l.width=S,l.height=k;let p;const d=Y();d.addEventListener("reading",()=>{c.quaternion.fromArray(d.quaternion).invert()}),F(l),O();const y=Z(e,o.domElement);M();function M(){y.update(),t.background.needsUpdate=!0,o.render(t,e),L(),requestAnimationFrame(M)}function O(){t=new R;const i=new W(50);c.add(i),e=B(),e.position.z=5,o=new x({alpha:!0}),o.setSize(S,k),document.body.appendChild(o.domElement),new V(t,e,o).RegisterObject("background",()=>{});const a=new $(16777215,5);a.target=c,a.position.set(0,0,10),t.add(a),t.background=new H(h),t.add(c)}function L(){var i=h.getContext("2d");const u=`<${Math.floor(s)}, ${Math.floor(n)}, ${Math.floor(r)}>`;let a=20,f=20;const m=w=>w>0?"true":w==0?"\u{1F44C}":"false";i.drawImage(l,0,0,h.width,h.height),p!=null&&(K(i,a-5,f-15,50,55),b(i,u,a,f-5),b(i,`X: ${m(Math.sign(s))}`,a,f+5),b(i,`Y: ${m(Math.sign(n))}`,a,f+15),b(i,`Z: ${m(Math.sign(r))}`,a,f+25))}window.addEventListener("devicemotion",i=>{g.getDelta();let u=-.01,a=.5,f=v(i.acceleration.x,a,u),m=v(i.acceleration.y,a+.2,u),w=v(i.acceleration.z,a,u);c.position.x+=f,c.position.y+=m,c.position.z+=w,s=f,n=m,r=w}),window.addEventListener("resize",()=>{e.aspect=window.innerWidth/window.innerHeight,e.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)}),window.addEventListener("deviceorientation",i=>{p=i.absolute});function v(i,u,a){return Math.abs(i)>u?Math.floor(i)/u*a:0}function b(i,u,a,f,m="white"){i.strokeStyle=m,i.font="9px Arial",i.fillStyle=m,i.beginPath(),i.fillText(u,a,f),i.stroke()}window.addEventListener("resize",G)});function K(t,e,o,s,n,r="blue"){t.strokeStyle=r,t.font="10px Arial",t.fillStyle=r,t.beginPath(),t.rect(e,o,s,n),t.fill(),t.stroke()}
